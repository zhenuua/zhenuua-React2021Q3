(()=>{"use strict";var e,t={122:(e,t,a)=>{var n,r=a(294),s=a(935),o=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)});const l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.typeHouse,a=e.price,n=e.country,s=e.rooms,o=e.name,l=e.buildDate,c="./img/"+t.toLowerCase().replace(/\s/g,"")+".jpg";return r.createElement("div",{className:"card"},r.createElement("img",{className:"card__image",src:c,alt:"type of houme"}),r.createElement("div",{className:"card__info"},r.createElement("h2",{className:"card__title"},t),r.createElement("h2",{className:"card__price"},"$",a),r.createElement("h3",{className:"card__location"},"country: ",n),r.createElement("h3",{className:"card__amount-rooms"},"rooms: ",s),r.createElement("h5",{className:"card__author"},this.props.salesman?"individual":"entity",", ",o),r.createElement("h5",{className:"card__date"},"Built in ",l),r.createElement("div",{className:"card__contacts"},r.createElement("div",{className:"card__likes"},r.createElement("img",{className:"card__contacts__image",src:"./icons/like.png",alt:"like"}),r.createElement("h4",{className:"card__likes__amount"},"0")),r.createElement("img",{className:"card__contacts__image",src:"./icons/phone.png",alt:"call to auther"}),r.createElement("img",{className:"card__contacts__image",src:"./icons/mail.png",alt:"sent email to auther"}),r.createElement("div",{className:"card__views"},r.createElement("img",{className:"card__contacts__image",src:"./icons/views.png",alt:"views"}),r.createElement("h4",{className:"card__views__amount"},"1")))))},t}(r.Component);var c=function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(t,a)};return function(t,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}();const i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){return r.createElement("section",{className:"cards-field"},this.props.typeHouse.map((function(e){return r.createElement(l,{key:e.id,typeHouse:e.typeHouse,name:e.name,price:e.price,rooms:e.rooms,buildDate:e.buildDate,country:e.country,salesman:e.salesman})})))},t}(r.Component);var u,m;!function(e){e.relevancy="relevancy",e.popularity="popularity",e.publishedAt="publishedAt"}(u||(u={})),function(e){e.english="en",e.russian="ru",e.deutsch="de",e.arabic="ar",e.french="fr",e.chinese="zh"}(m||(m={}));var p=function(e){var t=e.articles,a=e.page,n=e.pageSize,s=e.onChangePage,o=e.onChangePageSize,l=e.handleSubmit,c=(0,r.useState)([1]),i=c[0],u=c[1];return(0,r.useEffect)((function(){u(function(){for(var e=[1],t=2;t<=100/n;t+=1){var a=t;e.push(a)}return e}())}),[n]),r.createElement("div",{className:"result-search"},r.createElement("div",{className:"pages"},r.createElement("div",{className:"pages__current"},r.createElement("p",null,"Current page: ",r.createElement("span",null,a)),r.createElement("p",null,"Results per page: ",r.createElement("span",null,n))),r.createElement("div",{className:"pages__numbers"},r.createElement("p",{className:"pages__numbers__title"},"Page:"),r.createElement("div",{className:"pages__numbers__buttons"},i.map((function(e){return r.createElement("button",{type:"button",key:e,onClick:function(e){e.preventDefault(),function(e){var t=e.target;t.value?s(Number(t.value)):s(1)}(e),l()},className:Number(a)===e?"item-page-active item-page":"item-page",value:e},e)})))),r.createElement("div",{className:"pages__select"},r.createElement("p",null,"Number of results per page:"),r.createElement("select",{value:n,onChange:function(e){var t=e.target.value;o(Number(t))}},r.createElement("option",{value:1},"1"),r.createElement("option",{value:5},"5"),r.createElement("option",{value:10},"10"),r.createElement("option",{value:25},"25"),r.createElement("option",{value:50},"50"),r.createElement("option",{value:100},"100")))),t.length?r.createElement("table",{className:"result-search-table"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("td",null,"title"),r.createElement("td",null,"auther"),r.createElement("td",null,"published at"),r.createElement("td",null,"Image"))),r.createElement("tbody",null,t.map((function(e){var t=e.author,a=e.title,n=e.urlToImage,s=e.publishedAt;return r.createElement("tr",{key:a+n+s},r.createElement("td",null,a),r.createElement("td",null,t),r.createElement("td",null,s),r.createElement("td",null,r.createElement("img",{className:"autherphoto",src:n,alt:a})))})))):r.createElement("p",{className:"no-results"},"No results!"))},h=function(){var e=(0,r.useState)(""),t=e[0],a=e[1],n=(0,r.useState)(!1),s=n[0],o=n[1],l=(0,r.useState)([]),c=l[0],i=l[1],h=(0,r.useState)(u.popularity),f=h[0],d=h[1],E=(0,r.useState)((new Date).toISOString().slice(0,10)),y=E[0],v=E[1],g=(0,r.useState)((new Date).toISOString().slice(0,10)),b=g[0],_=g[1],N=(0,r.useState)(m.english),S=N[0],w=N[1],C=(0,r.useState)(1),O=C[0],D=C[1],k=(0,r.useState)(10),H=k[0],P=k[1];function x(){return e=this,a=void 0,r=function(){var e,a;return function(e,t){var a,n,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function l(s){return function(l){return function(s){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,n&&(r=2&s[0]?n.return:s[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,s[1])).done)return r;switch(n=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],n=0}finally{a=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}(this,(function(n){switch(n.label){case 0:o(!0),n.label=1;case 1:return n.trys.push([1,4,5,6]),[4,fetch("https://newsapi.org/v2/everything?q="+t+"&sortBy="+f+"&apiKey=2dc2eddc38044aa78291cd76243ac73f&pageSize="+H+"&page="+O+"&language="+S+"&from="+y+"&to="+b)];case 2:return[4,n.sent().json()];case 3:return e=n.sent(),i(e.articles||[]),[3,6];case 4:return a=n.sent(),console.error(a),[3,6];case 5:return o(!1),[7];case 6:return[2]}}))},new((n=void 0)||(n=Promise))((function(t,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function l(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var a;e.done?t(e.value):(a=e.value,a instanceof n?a:new n((function(e){e(a)}))).then(o,l)}c((r=r.apply(e,a||[])).next())}));var e,a,n,r}(0,r.useEffect)((function(){t&&x()}),[O]);var B=function(e){var t=(new Date).toISOString().slice(0,10);return e>t?t:e};return r.createElement("section",{className:"search-bar"},r.createElement("form",{className:"search-form",onSubmit:function(e){e.preventDefault(),x()}},r.createElement("label",{htmlFor:"searchBar"},r.createElement("input",{id:"search",className:"input-search",type:"text",name:"searchBar",value:t,onChange:function(e){var t=e.target.value;a(t)},disabled:s})),r.createElement("button",{className:"search-btn",type:"submit"},"search")),s?r.createElement("div",{className:"loading"},r.createElement("h3",{className:"loading__text"},"Loading, please wait"),r.createElement("div",{className:"loading__field"},r.createElement("div",{className:"loading__line"}))):"",r.createElement("div",{className:"sort"},r.createElement("div",{className:"sort__bysort"},r.createElement("p",null,"Sort by:"),r.createElement("label",{htmlFor:"sort-by"},r.createElement("span",null,u.popularity),r.createElement("input",{type:"radio",name:"sort",value:u.popularity,checked:u.popularity===f,onChange:function(){return d(u.popularity)}})),r.createElement("label",{htmlFor:"sort-publishedAt"},r.createElement("span",null,u.publishedAt),r.createElement("input",{type:"radio",name:"sort",value:u.publishedAt,checked:u.publishedAt===f,onChange:function(){return d(u.publishedAt)}})),r.createElement("label",{htmlFor:"sort-relevancy"},r.createElement("span",null,u.relevancy),r.createElement("input",{type:"radio",name:"sort",value:u.relevancy,checked:u.relevancy===f,onChange:function(){return d(u.relevancy)}}))),r.createElement("div",{className:"sort__bydate"},r.createElement("label",{htmlFor:"sort-sortByDateFrom"},r.createElement("p",null,"date from:"),r.createElement("input",{name:"sortByDateFrom",type:"date",value:y,onChange:function(e){var t=e.target.value,a=B(t);v(a)}})),r.createElement("label",{htmlFor:"sort-sortByDateTo"},r.createElement("p",null,"date to:"),r.createElement("input",{name:"sortByDateTo",type:"date",value:b,onChange:function(e){var t=e.target.value,a=B(t);_(a)}}))),r.createElement("div",{className:"sort__bylanguage"},r.createElement("p",null,"language:"),r.createElement("select",{onChange:function(e){var t=e.target.value;w(t)}},r.createElement("option",{value:m.english},"English"),r.createElement("option",{value:m.russian},"Russian"),r.createElement("option",{value:m.deutsch},"Deutsch"),r.createElement("option",{value:m.arabic},"Arabic"),r.createElement("option",{value:m.french},"French"),r.createElement("option",{value:m.chinese},"Chinese")))),r.createElement(p,{articles:c,page:O,pageSize:H,onChangePageSize:function(e){return P(e)},onChangePage:function(e){return D(e)},handleSubmit:x}))},f=function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(t,a)};return function(t,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}();const d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={id:"",typeHouse:"Block of flats",name:"",price:"",rooms:"",buildDate:"",country:"Belarus",salesman:!0,agree:!1,errorsAgree:!1,errorsName:"",errorsPrice:"",errorsRooms:"",errorsBuildDate:!1,showPopUp:!1},t}return f(t,e),t.prototype.handledChange=function(e){var t=this.state.typeHouse+this.state.price+this.state.name+this.state.buildDate;if(this.setState({id:""}),this.setState({id:t}),e.preventDefault(),this.validate()){var a=this.props.cardsHouses.concat({id:this.state.id,typeHouse:this.state.typeHouse,name:this.state.name,price:this.state.price,rooms:this.state.rooms,buildDate:this.state.buildDate,country:this.state.country,salesman:this.state.salesman});this.props.fullCardsHouses(a),this.resetForm(),this.showPopUp()}},t.prototype.validate=function(){var e=!0,t=/^[0-9]+$/;return this.setState({errorsAgree:!1,errorsName:"",errorsPrice:"",errorsBuildDate:!1,errorsRooms:""}),!1===this.state.agree&&(this.setState({errorsAgree:!0}),e=!1),""===this.state.buildDate&&(this.setState({errorsBuildDate:!0}),e=!1),0===this.state.name.length&&(this.setState({errorsName:"Поле не может быть пустым."}),e=!1),/^[ ]+$/.test(this.state.name)&&(this.setState({errorsName:"Поле не может состоять только из пробелов."}),e=!1),this.state.name.length>30&&(this.setState({errorsName:"Количество символов не должно превышать 30."}),e=!1),t.test(this.state.name)&&(this.setState({errorsName:"Поле не может состоять только из цифр."}),e=!1),/[~!@#$%*()_—+=|:;"'`<>,.?/^]+/.test(this.state.name)&&(this.setState({errorsName:"Поле не может содержать служебные символы."}),e=!1),t.test(this.state.price)||(this.setState({errorsPrice:"Поле может состоять только из цифр."}),e=!1),t.test(this.state.rooms)||(this.setState({errorsRooms:"Поле может состоять только из цифр."}),e=!1),e},t.prototype.resetForm=function(){this.setState({id:"",typeHouse:"Block of flats",name:"",price:"",rooms:"",buildDate:"",country:"Belarus",salesman:!0,agree:!1})},t.prototype.showPopUp=function(){var e=this;setTimeout((function(){e.setState({showPopUp:!0})}),0),setTimeout((function(){e.setState({showPopUp:!1})}),4e3)},t.prototype.render=function(){var e=this;return r.createElement("section",{className:"forms-bar"},r.createElement("h1",{className:"forms-title"},"Form for add announcement"),r.createElement("form",{className:"form-add-house",onSubmit:function(t){e.handledChange(t)}},r.createElement("label",{className:"item-form",htmlFor:"typeHouse"},r.createElement("p",null,"Type of house:"),r.createElement("select",{className:"select-country",name:"typeHouse",value:this.state.typeHouse,onChange:function(t){return e.setState({typeHouse:t.target.value})}},r.createElement("option",null,"Bungalow"),r.createElement("option",null,"Country house"),r.createElement("option",null,"Terraced house"),r.createElement("option",null,"Block of flats"),r.createElement("option",null,"Villa"),r.createElement("option",null,"Cottage"),r.createElement("option",null,"Weather-board house"),r.createElement("option",null,"Mansion"))),r.createElement("label",{className:"item-form",htmlFor:"name"},r.createElement("p",null,"Your name:",this.state.errorsName&&r.createElement("span",{className:"error-text"},"* ",this.state.errorsName)),r.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})}})),r.createElement("label",{className:"item-form",htmlFor:"price"},r.createElement("p",null," ","Price($):",this.state.errorsPrice&&r.createElement("span",{className:"error-text"},"* ",this.state.errorsPrice)),r.createElement("input",{type:"text",name:"price",value:this.state.price,onChange:function(t){return e.setState({price:t.target.value})}})),r.createElement("label",{className:"item-form",htmlFor:"rooms"},r.createElement("p",null," ","Number of rooms:",this.state.errorsRooms&&r.createElement("span",{className:"error-text"},"* ",this.state.errorsRooms)),r.createElement("input",{type:"text",name:"rooms",value:this.state.rooms,onChange:function(t){return e.setState({rooms:t.target.value})}})),r.createElement("label",{className:"item-form",htmlFor:"buildDate"},r.createElement("p",null," ","Build date:",this.state.errorsBuildDate&&r.createElement("span",{className:"error-text"}," ","* Укажите, пожалуйста, дату постройки")),r.createElement("input",{type:"date",name:"buildDate",value:this.state.buildDate,onChange:function(t){return e.setState({buildDate:t.target.value})}})),r.createElement("label",{className:"item-form",htmlFor:"country"},"Country:",r.createElement("select",{className:"select-country",name:"country",value:this.state.country,onChange:function(t){return e.setState({country:t.target.value})}},r.createElement("option",null,"Russia"),r.createElement("option",null,"Belarus"),r.createElement("option",null,"Ukraine"),r.createElement("option",null,"Spain"),r.createElement("option",null,"United Kingdom"),r.createElement("option",null,"Spain"),r.createElement("option",null,"USA"))),r.createElement("label",{className:"switch",htmlFor:"salesman"},r.createElement("input",{name:"salesman",type:"checkbox",checked:!this.state.salesman,onChange:function(){return e.setState({salesman:!e.state.salesman})}}),r.createElement("span",{className:"slider round train"},r.createElement("p",{className:"salesman-person"},this.state.salesman?"individual":"entity"))),r.createElement("label",{className:"item-form",htmlFor:"agree"},r.createElement("p",null,"I agree with data processing",this.state.errorsAgree&&r.createElement("span",{className:"error-text"}," ","* Подтвердите, что согласны на обработку данных")),r.createElement("input",{name:"agree",type:"checkbox",checked:this.state.agree,onChange:function(){return e.setState({agree:!e.state.agree})}})),r.createElement("div",{className:"item-form"},r.createElement("input",{className:"search-btn",type:"submit",value:"Send"}))),r.createElement("div",{className:"popup "},r.createElement("span",{className:"popuptext "+(this.state.showPopUp?"show":"")+" "},"Your form has been successfully added")))},t}(r.Component);var E=function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(t,a)};return function(t,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}();const y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={cardsHouses:[]},t}return E(t,e),t.prototype.componentDidMount=function(){this.setState({cardsHouses:[]})},t.getItems=function(e){return e.map((function(e){return{id:e.id,typeHouse:e.typeHouse,name:e.name,price:e.price,rooms:e.rooms,buildDate:e.buildDate,country:e.country,salesman:e.salesman}}))},t.prototype.changeHouses=function(e){this.setState({cardsHouses:e})},t.prototype.render=function(){var e=this;return r.createElement("main",null,r.createElement(h,null),r.createElement(d,{cardsHouses:this.state.cardsHouses,fullCardsHouses:function(t){e.changeHouses(t)}}),r.createElement(i,{typeHouse:t.getItems(this.state.cardsHouses)}))},t}(r.Component);s.render(r.createElement(r.StrictMode,null,r.createElement(y,null)),document.getElementById("root"))}},a={};function n(e){var r=a[e];if(void 0!==r)return r.exports;var s=a[e]={exports:{}};return t[e](s,s.exports,n),s.exports}n.m=t,e=[],n.O=(t,a,r,s)=>{if(!a){var o=1/0;for(u=0;u<e.length;u++){for(var[a,r,s]=e[u],l=!0,c=0;c<a.length;c++)(!1&s||o>=s)&&Object.keys(n.O).every((e=>n.O[e](a[c])))?a.splice(c--,1):(l=!1,s<o&&(o=s));if(l){e.splice(u--,1);var i=r();void 0!==i&&(t=i)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[a,r,s]},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={179:0};n.O.j=t=>0===e[t];var t=(t,a)=>{var r,s,[o,l,c]=a,i=0;for(r in l)n.o(l,r)&&(n.m[r]=l[r]);if(c)var u=c(n);for(t&&t(a);i<o.length;i++)s=o[i],n.o(e,s)&&e[s]&&e[s][0](),e[o[i]]=0;return n.O(u)},a=self.webpackChunkfrontend=self.webpackChunkfrontend||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var r=n.O(void 0,[935],(()=>n(122)));r=n.O(r)})();